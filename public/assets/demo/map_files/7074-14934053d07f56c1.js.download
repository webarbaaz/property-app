!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bbaafc23-2e32-4d84-8c59-44df5224a692",e._sentryDebugIdIdentifier="sentry-dbid-bbaafc23-2e32-4d84-8c59-44df5224a692")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7074],{64456:function(e,t,r){r.d(t,{f:function(){return c},I:function(){return i}});var n=r(97458),s=r(72118),o=r(52983);let a=(0,o.createContext)(void 0),c=e=>{let{children:t,gaCookie:r}=e,[c,i]=(0,o.useState)(null),l=!r;return(0,o.useEffect)(()=>{if(l){var e;i(null!==(e=s.Z.get("_ga"))&&void 0!==e?e:null)}},[l]),(0,n.jsx)(a.Provider,{value:null!=r?r:c,children:t})},i=()=>{let e=(0,o.useContext)(a);if(void 0===e)throw Error("useGoogleAnalyticsCookie must be used within a GoogleAnalyticsCookieProvider");return e}},26521:function(e,t,r){r.d(t,{I8:function(){return l},LH:function(){return u},cs:function(){return c},zs:function(){return i}});var n=r(24399),s=r(7616),o=r(52983),a=r(1850);let c={expanded:{type:!0,license:!0,iconType:!0},show:!0},i=(0,n.cn)(c),l=(0,n.cn)(e=>e(i).show,(e,t,r)=>{t(i,{...e(i),show:r})}),u=()=>{let e=(0,s.b9)(i);return(0,o.useCallback)((t,r)=>{e(e=>({...e,expanded:{...e.expanded,[t]:r}}))},[e])};a.z.object({expanded:a.z.record(a.z.boolean()),group:a.z.unknown(),show:a.z.boolean()})},13367:function(e,t,r){r.d(t,{b:function(){return c}});var n=r(97458),s=r(83598),o=r(78364),a=r(50273);let c=e=>{let{onClose:t,button:r,children:c,icon:i,permanent:l,type:u}=e;return(0,n.jsxs)("div",{className:(0,o.W)("$flex $items-start $px-15 $py-10 $text-white sm:$items-center","danger"===u&&"$bg-redBloody","info"===u&&"$bg-blueFreepik","success"===u&&"$bg-greenFlaticon"),children:[i&&(0,n.jsx)("div",{className:"$hidden sm:$inline-block",children:(0,n.jsx)(a.J,{as:i,className:"$mr-10 $block"})}),(0,n.jsxs)("div",{className:"$block $flex-1 $items-center $justify-between sm:$flex",children:[(0,n.jsx)("p",{className:"$mb-5 $mr-0 sm:$mb-0 sm:$mr-15",children:c}),r]}),!l&&(0,n.jsx)("button",{onClick:t,className:"$-mr-5 $p-5 $text-white",children:(0,n.jsx)(a.J,{as:s.Z,className:"$ml-10"})})]})}},88825:function(e,t,r){r.d(t,{sH:function(){return a},nD:function(){return c.n},E3:function(){return l},$6:function(){return u.$},Vm:function(){return d}});var n=r(97458),s=r(52983),o=r(9141);let a=e=>{let{children:t}=e,r=(0,s.useRef)(null);return(0,n.jsx)(o.q.Provider,{value:r,children:(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)("div",{style:{position:"absolute",zIndex:5},ref:r})]})})};var c=r(77423),i=r(83648);let l=()=>{let{pathname:e,push:t}=(0,i.useRouter)();return(0,s.useCallback)(r=>{t({pathname:e},r)},[e,t])};var u=r(65054);let d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,[t,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let t=()=>{r(window.scrollY>=e)};return t(),window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[t,e]),{isAboveThreshold:t}}},65054:function(e,t,r){r.d(t,{$:function(){return s}});var n=r(52983);let s=e=>{(0,n.useEffect)(()=>(document.body.style.overflow=e?"hidden":"",()=>{document.body.style.overflow=""}),[e])}},69541:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(93113);let s="session/xhr/device-manager/identify",o=(()=>{let e=()=>{try{let e=localStorage.getItem(s);if(!e)return null;return n.h.parse(JSON.parse(e))}catch(e){return null}};return{get:e,set:e=>localStorage.setItem(s,JSON.stringify(e)),remove:()=>localStorage.removeItem(s),isDeviceBlocked:()=>{var t;return null===(t=e())||void 0===t?void 0:t.disabled}}})()},48070:function(e,t,r){r.d(t,{en:function(){return x},Il:function(){return j},qx:function(){return g}});var n=r(97458),s=r(93611),o=r(13367),a=r(58785),c=r(71163),i=r(7616),l=r(45634),u=r(24399);let d=(0,u.cn)(void 0),f=(0,u.cn)(!1),m=(0,u.cn)(e=>{let t=e(d);return!!t&&t.disabled}),g=()=>{let[e,t]=(0,i.KO)(f),r=(0,i.Dv)(m);return{isDeviceBlocked:(0,l.A)("DEVICE_LIMIT_BLOCK")&&r,isOpenDeviceBlockedModal:e,showDeviceBlockedModal:()=>t(!0),hideDeviceBlockedModal:()=>t(!1)}};var b=r(50273),v=r(98015);let h=()=>{let{t:e}=(0,c.$G)("detail"),{isOpenDeviceBlockedModal:t,hideDeviceBlockedModal:r}=g();return(0,n.jsx)(v.u,{size:"sm",open:t,onOpenChange:r,children:(0,n.jsxs)("div",{className:"$text-center",children:[(0,n.jsxs)("div",{className:"$sprinkles-text-lg $font-semibold $flex $items-center $justify-center $text-surface-foreground-2 $mb-10",children:[(0,n.jsx)(b.J,{as:a.Z,size:"xl",className:"$mr-10 $text-grayHoki"}),e("deviceBlocked.title")]}),(0,n.jsx)("p",{className:"$sprinkles-text-base $text-surface-foreground-2 $mb-20",children:e("deviceBlocked.description")}),(0,n.jsx)(s.gg,{as:"a",href:"/user/device-manager",children:e("deviceBlocked.button")})]})})},x=()=>{let{t:e}=(0,c.$G)("common"),{isDeviceBlocked:t}=g();if(!t)return null;let r=(0,n.jsx)(s.f5,{as:"a",size:"sm",href:"/user/device-manager",children:e("downloadsDisabled.button")});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.b,{type:"danger",button:r,icon:a.Z,permanent:!0,children:[(0,n.jsx)("strong",{children:e("downloadsDisabled.title")})," ",e("downloadsDisabled.description")]}),(0,n.jsx)(h,{})]})};var p=r(52983),y=r(42011),$=r(69541),w=r(93113);let k=async()=>{let e=await fetch("/user/api/devices/identify",{method:"POST"});if(!e.ok)throw Error("Error checking user device data.");let t=await e.json();return w.I.parse(t)},j=e=>{let{children:t}=e,r=(0,y.d)(),s=(0,i.b9)(d),o=(0,p.useCallback)(e=>{s(e),e?$.Z.set(e):$.Z.remove()},[s]);return(0,p.useEffect)(()=>{let e=async()=>{let e=new Date().getTime(),t={disabled:!1,expiry:e+18e5},r=$.Z.get();if(r&&r.expiry>e)return r;try{let e=await k();t.disabled=e.success&&e.disabled}catch(e){console.error("Error getting device manager status",e)}finally{$.Z.set(t)}return t};r&&e().then(o)},[o,r]),(0,n.jsx)(n.Fragment,{children:t})}},93113:function(e,t,r){r.d(t,{I:function(){return s},h:function(){return o}});var n=r(1850);let s=n.z.object({csrfToken:n.z.string().optional(),success:n.z.boolean(),disabled:n.z.boolean()}),o=n.z.object({disabled:n.z.boolean(),expiry:n.z.number()})},65847:function(e,t,r){r.d(t,{p0:function(){return s},y7:function(){return o},yP:function(){return n}});let n="ua_log",s=10,o=3e5},76698:function(e,t,r){r.d(t,{dV:function(){return a},rl:function(){return o},zP:function(){return s}});var n=r(51561);let s=e=>{try{let t=localStorage.getItem(e),r=JSON.parse(null!=t?t:"[]"),s=n.V8.safeParse(r);return s.success?s.data:[]}catch(t){return console.error("Error reading ".concat(e," from localStorage:"),t),[]}},o=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(t){return console.error("Error writing to ".concat(e," in localStorage:"),t),!1}},a=e=>{try{return localStorage.removeItem(e),!0}catch(t){return console.error("Error clearing ".concat(e," from localStorage:"),t),!1}}},98702:function(e,t,r){r.d(t,{J:function(){return a}});var n=r(1850);let s=n.z.object({status:n.z.coerce.number(),statusText:n.z.string()}),o=e=>{if(e instanceof Error&&e.message){let t=/^(\d+): (.*)$/.exec(e.message);if(t){let e;let r=parseInt(t[1],10);try{e=JSON.parse(t[2]).message}catch(r){e=t[2]}return{status:r,statusText:e}}if(e.message.includes("{"))try{let t=s.parse(JSON.parse(e.message));return{status:t.status,statusText:"".concat(t.statusText)}}catch(e){}return{status:500,statusText:e.message}}return"string"==typeof e?{status:500,statusText:e}:{status:500,statusText:"Unknown error"}},a=async e=>{try{let t=await fetch("/api/user/activity/interaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(t.statusText);return{success:!0}}catch(e){return{success:!1,message:o(e).statusText}}}},51561:function(e,t,r){r.d(t,{V8:function(){return l},Wv:function(){return i}});var n=r(1850);let s=n.z.enum(["vector","illustration","photo","icon","video","psd","template","mockup"]),o=n.z.enum(["search","removebg","replacebg","retouch","expand","ethnicity","adjust","styleReference","generatePrompt","generateVideo","reimagine","upscaleVideo","generateSoundEffect","generateIcon","editIcon","assistant"]),a=n.z.string().optional(),c=n.z.object({target:s,action:o,actionParam:a}),i=c.extend({timestamp:n.z.coerce.date()});n.z.array(c.extend({timestamp:n.z.coerce.date().transform(e=>e.getTime()/1e3)}).transform(e=>({...e,action_param:e.actionParam})));let l=n.z.array(i)}}]);